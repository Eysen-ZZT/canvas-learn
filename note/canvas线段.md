## ctx.lineWidth 属性

`lineWidth` 属性用于设置线段厚度的属性 ( 即线段的宽度 )

当获取属性值时，它可以返回当前的值 ( 默认值是1.0 )

当给属性赋值时， 0、 负数、 Infinity 和 NaN 都会被忽略；除此之外，都会被赋予一个新值

### 语法

```
ctx.lineWidth = value;
```

| 值    | 说明                                                     |
| ----- | -------------------------------------------------------- |
| value | 描述线段宽度的数字。 0、 负数、 Infinity 和 NaN 会被忽略 |

## setLineDash()

`ctx.setLineDash()` 方法用于设置虚线样式，它的语法格式如下

```
void ctx.setLineDash(segments);
```

| 参数     | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| segments | 一个数组。一组描述交替绘制线段和间距（坐标空间单位）长度的数字 |

如果传递的 `segments` 数组元素的数量是奇数， 数组的元素会被复制并重复

例如， `[5, 15, 25]` 会变成 `[5, 15, 25, 5, 15, 25]`

要怎么理解这个数组呢？

首先要理解的是，虚线条是由无数个一段虚线加上一段实线组成的

如果是虚线条，就把其中的一些白色擦掉，当然，这个擦掉不是毫无规律的，而是要遵守下面的规则

1. 起始必须是实心(也就是黑色)
2. 实心和空白交替出现，实心和空白的占比由参数 `segment` 决定

总结来说就是一下黑一下白，例如：[1, 2] 先是 1 格黑然后 2 格白

## Canvas 虚线样式的起始偏移量（lineDashOffset 属性）

什么叫做线段起始偏移量呢？

线段起始偏移量就是线段样式整体左移或者右边移动的距离

假设我们使用 `setLineDash([1,2,3])` 设置了虚线样式

1. 偏移量是设定的值与 `setLineDash()` 中 `segment` 参数的总和的余数

   也就是 `偏移量 = 设定的值 % (1+2+3) = 设定的值 % 6`

2. 如果设定的是正整数，则往左边移动
3. 如果设定的是负整数，则往右边移动

`ctx.lineDashOffset` 用于设置虚线偏移量的属性

```
ctx.lineDashOffset = value;
```

| 值    | 说明                             |
| ----- | -------------------------------- |
| value | 一个符点数 (float)，初始值为 0.0 |

## Canvas 线条末端样式 lineCap

绘制线条时，线条起始和终点的默认演示是平齐的一条线，当然我们可以通过属性 `lineCap` 改变它

Canvas 提供了三种线条末端样式，分别是 `butt` 、`round` 、`square`

它们的表现如下图

![img](https://www.twle.cn/static/i/canvas/canvas_linecap_1.png)

### 语法

```
ctx.lineCap = "butt";
ctx.lineCap = "round";
ctx.lineCap = "square";
```

值说明

| 值     | 说明                                                         |
| ------ | ------------------------------------------------------------ |
| butt   | 线段末端以方形结束                                           |
| round  | 线段末端以圆形结束                                           |
| square | 线段末端以方形结束，但是增加了一个宽度和线段相同，高度是线段厚度一半的矩形区域 |

## Canvas 线条与线条间接合处的样式（lineJoin 属性）

`ctx.lineJoin` 是用来设置 2 个长度不为 0 的相连部分 ( 线段，圆弧，曲线 ) 如何连接在一起的属性

> 长度为 0 的变形部分，其指定的末端和控制点在同一位置，会被忽略

### 语法

```
ctx.lineJoin = "bevel";
ctx.lineJoin = "round";
ctx.lineJoin = "miter";
```

| 值    | 说明                                                         |
| ----- | ------------------------------------------------------------ |
| round | 通过填充一个额外的，圆心在相连部分末端的扇形，绘制拐角的形状，圆角的半径是线段的宽度 |
| bevel | 在相连部分的末端填充一个额外的以三角形为底的区域， 每个部分都有各自独立的矩形拐角 |
| miter | 默认，通过延伸相连部分的外边缘，使其相交于一点，形成一个额外的菱形区域 这个设置可以通过 [miterLimit](https://www.twle.cn/l/yufei/canvas/canvas-basic-path-miterlimit.html) 属性设置 |

### 注意

如果 2 个相连部分在同一方向，那么 `lineJoin` 不会产生任何效果，因为在那种情况下不会出现连接区域

## Canvas miterLimit 属性

为了避免夹角比较小时，接合处比较长，我们可以使用 `miterLimit` 属性设置的短一点

`miterLimit` 属性就是用来设定外延交点与连接点的最大距离，如果交点距离大于此值，连接效果会变成了 bevel

1. 当获取属性值时， 会返回当前的值 ( 默认值是10.0 )
2. 当给属性赋值时， 0、负数、 Infinity 和 NaN 都会被忽略，除此之外都会被赋予一个新值

### 语法

```
ctx.miterLimit = value;
```

| 值    | 说明                                                         |
| ----- | ------------------------------------------------------------ |
| value | 设置接合处限制比例的的数字。 0、负数、Infinity 和 NaN 都会被忽略 |

只有当 lineJoin 显示为 "miter" 时，miterLimit 才有效

如果接合处的长度超过 `miterLimit` 的值，边角会以 lineJoin 的 "bevel" 类型来显示

